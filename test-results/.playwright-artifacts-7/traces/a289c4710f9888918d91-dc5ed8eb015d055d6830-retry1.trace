{"version":8,"type":"context-options","origin":"library","browserName":"chromium","options":{"noDefaultViewport":false,"viewport":{"width":1280,"height":720},"ignoreHTTPSErrors":false,"javaScriptEnabled":true,"bypassCSP":false,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","locale":"en-US","offline":false,"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"colorScheme":"light","acceptDownloads":"accept","baseURL":"http://localhost:8000","serviceWorkers":"allow","selectorEngines":[],"testIdAttributeName":"data-testid"},"platform":"darwin","wallTime":1761484254288,"monotonicTime":38385.048,"sdkLanguage":"javascript","testIdAttributeName":"data-testid","contextId":"browser-context@5c60ff71e431b5b47e902fac83305198","title":"playwright.test.js:26 ‚Ä∫ Lua Persistent WASM ‚Ä∫ Memory stats display"}
{"type":"before","callId":"call@6","startTime":38386.851,"class":"BrowserContext","method":"newPage","params":{},"stepId":"pw:api@35","beforeSnapshot":"before@call@6"}
{"type":"event","time":38431.284,"class":"BrowserContext","method":"page","params":{"pageId":"page@67048ef6d235cd8d825c995fb6ba85d3"}}
{"type":"after","callId":"call@6","endTime":38431.324,"result":{"page":"<Page>"},"afterSnapshot":"after@call@6"}
{"type":"before","callId":"call@8","startTime":38433.139,"class":"Frame","method":"goto","params":{"url":"http://localhost:8000","timeout":0,"waitUntil":"networkidle"},"stepId":"pw:api@36","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","beforeSnapshot":"before@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"before@call@8","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","frameId":"frame@9fa98bb6b8555f306af501c4a768beef","frameUrl":"about:blank","html":["HTML",{},["HEAD",{},["BASE",{"href":"about:blank"}]],["BODY"]],"viewport":{"width":1280,"height":720},"timestamp":38434.295,"wallTime":1761484254337,"collectionTime":0.5,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@8","time":38435.123,"message":"navigating to \"http://localhost:8000/\", waiting until \"networkidle\""}
{"type":"screencast-frame","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","sha1":"page@67048ef6d235cd8d825c995fb6ba85d3-1761484254347.jpeg","width":1280,"height":720,"timestamp":38444.132,"frameSwapWallTime":1761484254345.743}
{"type":"console","messageType":"log","text":"Loaded 0 tables from IndexedDB","args":[{"preview":"Loaded 0 tables from IndexedDB","value":"Loaded 0 tables from IndexedDB"}],"location":{"url":"http://localhost:8000/lua-persistence.js","lineNumber":141,"columnNumber":16},"time":38457.53,"pageId":"page@67048ef6d235cd8d825c995fb6ba85d3"}
{"type":"console","messageType":"log","text":"‚úÖ Lua WASM loaded successfully","args":[{"preview":"‚úÖ Lua WASM loaded successfully","value":"‚úÖ Lua WASM loaded successfully"}],"location":{"url":"http://localhost:8000/lua-api.js","lineNumber":222,"columnNumber":12},"time":38462.312,"pageId":"page@67048ef6d235cd8d825c995fb6ba85d3"}
{"type":"screencast-frame","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","sha1":"page@67048ef6d235cd8d825c995fb6ba85d3-1761484254379.jpeg","width":1280,"height":720,"timestamp":38475.225,"frameSwapWallTime":1761484254370.9668}
{"type":"screencast-frame","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","sha1":"page@67048ef6d235cd8d825c995fb6ba85d3-1761484254386.jpeg","width":1280,"height":720,"timestamp":38482.416,"frameSwapWallTime":1761484254384.2722}
{"type":"after","callId":"call@8","endTime":38962.284,"result":{"response":"<Response>"},"afterSnapshot":"after@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"after@call@8","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","frameId":"frame@9fa98bb6b8555f306af501c4a768beef","frameUrl":"http://localhost:8000/","doctype":"html","html":["HTML",{"lang":"en"},["HEAD",{},["BASE",{"href":"http://localhost:8000/"}],"\n  ",["META",{"charset":"utf-8"}],"\n  ",["META",{"name":"viewport","content":"width=device-width, initial-scale=1.0"}],"\n  ",["TITLE",{},"Lua Persistent - WASM Demo"],"\n  ",["STYLE",{},"\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { \n      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; \n      background: #1e1e1e; \n      color: #e0e0e0;\n      line-height: 1.6;\n    }\n    .container { \n      max-width: 1000px; \n      margin: 0 auto; \n      padding: 20px; \n    }\n    h1 { \n      color: #4ec9b0; \n      margin: 20px 0 10px 0;\n      font-size: 32px;\n    }\n    h2 {\n      color: #9cdcfe;\n      font-size: 18px;\n      margin: 15px 0 10px 0;\n    }\n    .section { \n      background: #252526; \n      padding: 15px; \n      margin: 10px 0; \n      border-radius: 5px;\n      border-left: 3px solid #4ec9b0;\n    }\n    #editor { \n      width: 100%; \n      height: 200px; \n      padding: 10px; \n      background: #1e1e1e; \n      color: #d4d4d4; \n      border: 1px solid #3e3e42; \n      font-family: 'Monaco', monospace;\n      font-size: 13px;\n      resize: vertical;\n    }\n    #output { \n      background: #1e1e1e; \n      padding: 12px; \n      margin-top: 10px; \n      min-height: 150px; \n      border: 1px solid #3e3e42; \n      max-height: 400px; \n      overflow-y: auto;\n      font-size: 13px;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n    }\n    button { \n      padding: 10px 15px; \n      margin: 5px 5px 5px 0; \n      background: #0e639c; \n      color: white; \n      border: none; \n      border-radius: 3px; \n      cursor: pointer;\n      font-family: 'Monaco', monospace;\n      font-size: 13px;\n      transition: background 0.2s;\n    }\n    button:hover { background: #1177bb; }\n    button:active { background: #0c4f7f; }\n    .status { \n      padding: 12px; \n      margin: 10px 0; \n      border-radius: 3px;\n      font-weight: bold;\n    }\n    .status.success { \n      background: #1a4d2e; \n      color: #6fc96f;\n      border-left: 3px solid #4ec9b0;\n    }\n    .status.error { \n      background: #4d1a1a; \n      color: #f97777;\n      border-left: 3px solid #d4534f;\n    }\n    .status.info { \n      background: #1a3d4d; \n      color: #6fc9f9;\n      border-left: 3px solid #0e639c;\n    }\n    .button-group {\n      margin: 10px 0;\n    }\n    .stat-grid {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      gap: 10px;\n      margin: 10px 0;\n    }\n    .stat-item {\n      background: #1e1e1e;\n      padding: 10px;\n      border-radius: 3px;\n      border-left: 3px solid #4ec9b0;\n    }\n    .stat-label {\n      font-size: 12px;\n      color: #858585;\n    }\n    .stat-value {\n      font-size: 18px;\n      font-weight: bold;\n      color: #4ec9b0;\n      margin-top: 5px;\n    }\n    .code-examples {\n      background: #1e1e1e;\n      padding: 10px;\n      border-radius: 3px;\n      margin: 10px 0;\n      font-size: 12px;\n    }\n    .code-examples button {\n      display: block;\n      width: 100%;\n      text-align: left;\n      margin: 5px 0;\n      padding: 8px 10px;\n    }\n  "],"\n"],"\n",["BODY",{},"\n  ",["DIV",{"class":"container"},"\n    ",["H1",{},"üåô Lua Persistent (WASM)"],"\n    ",["P",{"style":"color: #858585; margin-bottom: 20px;"},"Phase 6: Export Function Fix - Full WASM Integration"],"\n\n    ",["DIV",{"id":"status","class":"section status success"},"‚úÖ Lua ready ‚Äî _home table #1 attached"],"\n\n    ",["DIV",{"class":"section"},"\n      ",["H2",{},"üìù Lua Code Editor"],"\n      ",["TEXTAREA",{"__playwright_value_":"_home.counter = (_home.counter or 0) + 1\nreturn _home.counter","id":"editor","placeholder":"Enter Lua code here...\n\nExamples:\n  _home.counter = (_home.counter or 0) + 1\n  return _home.counter\n  _home.user = 'alice'\n  return _home.user\n  return string.upper('hello')\n  \n  -- Or try a more complex example:\n  local sum = 0\n  for i = 1, 100 do\n    sum = sum + i\n  end\n  return sum"},"_home.counter = (_home.counter or 0) + 1\nreturn _home.counter"],"\n      ",["DIV",{"class":"button-group"},"\n        ",["BUTTON",{"onclick":""},"‚ñ∂Ô∏è Execute"],"\n        ",["BUTTON",{"onclick":""},"üìù Clear Code"],"\n        ",["BUTTON",{"onclick":""},"‚ôªÔ∏è Run GC"],"\n        ",["BUTTON",{"onclick":""},"üíæ Save State"],"\n        ",["BUTTON",{"onclick":""},"üìÇ Load State"],"\n        ",["BUTTON",{"onclick":"","style":"background: #666;"},"üóÇÔ∏è _home Example"],"\n        ",["BUTTON",{"onclick":"","style":"background: #666;"},"üìê Math Example"],"\n        ",["BUTTON",{"onclick":"","style":"background: #666;"},"üìú String Example"],"\n      "],"\n    "],"\n\n    ",["DIV",{"class":"section"},"\n      ",["H2",{},"üìä Output"],"\n      ",["DIV",{"id":"output","style":"color: #6fc96f;"},"Ready for input..."],"\n    "],"\n\n    ",["DIV",{"class":"section"},"\n      ",["H2",{},"‚ÑπÔ∏è WASM Memory Statistics"],"\n      ",["DIV",{"class":"stat-grid"},"\n        ",["DIV",{"class":"stat-item"},"\n          ",["DIV",{"class":"stat-label"},"Total Memory"],"\n          ",["DIV",{"class":"stat-value","id":"stat-total"},"1.75 MB"],"\n        "],"\n        ",["DIV",{"class":"stat-item"},"\n          ",["DIV",{"class":"stat-label"},"Used"],"\n          ",["DIV",{"class":"stat-value","id":"stat-used"},"1075 KB"],"\n        "],"\n        ",["DIV",{"class":"stat-item"},"\n          ",["DIV",{"class":"stat-label"},"Free"],"\n          ",["DIV",{"class":"stat-value","id":"stat-free"},"717 KB"],"\n        "],"\n      "],"\n    "],"\n\n    ",["DIV",{"class":"section"},"\n      ",["H2",{},"üìö API Reference"],"\n      ",["DIV",{"class":"code-examples"},"\n        ",["STRONG",{},"Available Functions:"],["BR"],"\n        ",["CODE",{},"lua.init()"]," - Initialize Lua VM",["BR"],"\n        ",["CODE",{},"lua.compute(code)"]," - Execute Lua code",["BR"],"\n        ",["CODE",{},"lua.getBufferPtr()"]," - Get buffer address",["BR"],"\n        ",["CODE",{},"lua.getBufferSize()"]," - Get buffer size (64KB)",["BR"],"\n        ",["CODE",{},"lua.getMemoryStats()"]," - Get memory info",["BR"],"\n        ",["CODE",{},"lua.runGc()"]," - Run garbage collection",["BR"],"\n      "],"\n    "],"\n  "],"\n\n  ","\n\n\n"]],"viewport":{"width":1280,"height":720},"timestamp":38963.778,"wallTime":1761484254867,"collectionTime":0.6999999284744263,"resourceOverrides":[],"isMainFrame":true}}
{"type":"before","callId":"call@10","startTime":38966.752,"class":"Frame","method":"textContent","params":{"selector":"#stats","strict":true,"timeout":0},"stepId":"pw:api@37","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","beforeSnapshot":"before@call@10"}
{"type":"frame-snapshot","snapshot":{"callId":"call@10","snapshotName":"before@call@10","pageId":"page@67048ef6d235cd8d825c995fb6ba85d3","frameId":"frame@9fa98bb6b8555f306af501c4a768beef","frameUrl":"http://localhost:8000/","doctype":"html","html":[[1,153]],"viewport":{"width":1280,"height":720},"timestamp":38967.316,"wallTime":1761484254870,"collectionTime":0.20000004768371582,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@10","time":38967.928,"message":"waiting for locator('#stats')"}
{"type":"event","time":59698.403,"class":"BrowserContext","method":"pageClosed","params":{"pageId":"page@67048ef6d235cd8d825c995fb6ba85d3"}}
{"type":"after","callId":"call@10","endTime":59702.143,"error":{"message":"Target page, context or browser has been closed","stack":"TargetClosedError: Target page, context or browser has been closed\n    at PageDispatcher._dispose (/Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/dispatchers/dispatcher.js:109:30)\n    at Page.<anonymous> (/Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js:71:12)\n    at Page.emit (node:events:520:28)\n    at Page._didClose (/Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/page.js:167:10)\n    at CRPage.didClose (/Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/chromium/crPage.js:131:16)\n    at CRBrowser._onDetachedFromTarget (/Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/chromium/crBrowser.js:176:14)\n    at CRSession.emit (node:events:520:28)\n    at /Users/rakis/hyper-projects/lua-persistent-demo/node_modules/playwright-core/lib/server/chromium/crConnection.js:138:14","name":"TargetClosedError"},"afterSnapshot":"after@call@10"}
